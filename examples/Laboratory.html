<html>
  <head>
    <meta charset="utf-8">
    <title>Dev Example — Networked-Aframe</title>
    <meta name="description" content="Dev Example — Networked-Aframe">

    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.js"></script>
    <script src="/easyrtc/easyrtc.js"></script>
    <script src="/dist/networked-aframe.js"></script>

    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
    <script src="/js/spawn-in-circle.component.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.2.0/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene networked-scene="
      room: dev;
      debug: true;
      adapter: wseasyrtc;
    ">




    <a-assets>
        <a-asset-item id="reticle"
          src="https://cdn.aframe.io/examples/ar/models/reticle/reticle.gltf"
          response-type="arraybuffer" crossorigin="anonymous"></a-asset-item> 
    
        <img id="shadow" src="https://cdn.glitch.com/20600112-c04b-492c-8190-8a5ccc06f37d%2Fshadow.png?v=1606338852399"></img>

        <a.asser-item id="alcoholbottle" src="/Models/gltf/AlcoholBottle.gltf"></a.asser-item>
        <a.asser-item id="alcoholgel" src="/Models/gltf/AlcoholGel.gltf"></a.asser-item>
        <a-asset-item id="bandeja" src="/Models/gltf/Bandeja.gltf"></a-asset-item>
        <a.asser-item id="bandeja02" src="/Models/gltf/Tray.gltf"></a.asser-item>
        <a-asset-item id="base" src="/Models/gltf/Base.gltf"></a-asset-item>
        <a-asset-item id="bed" src="/Models/gltf/Bed.gltf"></a-asset-item>
        <a-asset-item id="container" src="/Models/gltf/TrashContainer.gltf"></a-asset-item>
        <a-asset-item id="containerblack" src="/Models/gltf/TrashContainerBlack.gltf"></a-asset-item>
        <a.asser-item id="cottonswabs01" src="/Models/gltf/CottonSwabs01.gltf"></a.asser-item>
        <a.asser-item id="cottonswabs02" src="/Models/gltf/CottonSwabs02.gltf"></a.asser-item>
        <a.asser-item id="cottonswabs03" src="/Models/gltf/CottonSwabs03.gltf"></a.asser-item>
        <a.asser-item id="dryer" src="/Models/gltf/Dryer.gltf"></a.asser-item>
        <a-asset-item id="floor" src="/Models/gltf/Floor.gltf"></a-asset-item>
        <a.asser-item id="forceps" src="/Models/gltf/Forceps.gltf"></a.asser-item>
        <a.asser-item id="gauze" src="/Models/gltf/Gauze.gltf"></a.asser-item>
        <a-asset-item id="maskn95" src="/Models/gltf/MaskN95.gltf"></a-asset-item>
        <a-asset-item id="medicaltape" src="/Models/gltf/MedicalTape.gltf"></a-asset-item>
        <a-asset-item id="mesa" src="/Models/gltf/Table01.gltf"></a-asset-item>
        <a.asser-item id="patient" src="/Models/gltf/Patient.gltf"></a.asser-item>
        <a.asser-item id="salver" src="/Models/gltf/Salver.gltf"></a.asser-item>
        <a-asset-item id="silla" src="/Models/gltf/Silla.gltf"></a-asset-item>
        <a.asser-item id="dripbag" src="/Models/gltf/DripBag.gltf"></a.asser-item>
        <a.asser-item id="surgicalpallets" src="/Models/gltf/SurgicalPallets.gltf"></a.asser-item>
        <a.asser-item id="table02" src="/Models/gltf/Table02.gltf"></a.asser-item>
        <a.asser-item id="table03" src="/Models/gltf/Table03.gltf"></a.asser-item>
        <a.asser-item id="trashcan" src="/Models/gltf/TrashCan.gltf"></a.asser-item>
        <a.asser-item id="tweezers" src="/Models/gltf/Tweezers.gltf"></a.asser-item>
        <a.asser-item id="tweezers2" src="/Models/gltf/Tweezers2.gltf"></a.asser-item>
        <a.asser-item id="scenebase" src="/Models/gltf/Scene_Base.gltf"></a.asser-item>
        <a.asser-item id="walls" src="/Models/gltf/Scene_Walls.gltf"></a.asser-item>
        <a.asser-item id="scenemedixlablogo" src="/Models/gltf/Scene_Medixlablogo.gltf"></a.asser-item>
        <a.asser-item id="sceneieproeslogo" src="/Models/gltf/Scene_Ieproesblogo.gltf"></a.asser-item>
        <a.asser-item id="scenevertexlogo" src="/Models/gltf/Scene_VertexLogo.gltf"></a.asser-item>
        <a.asser-item id="scenebase02" src="/Models/gltf/Scene_Base02.gltf"></a.asser-item>
        <a.asser-item id="lamps" position="0 0 -12.41576" src="/Models/gltf/Scene_Lamps.gltf"></a.asser-item>
        <a.asser-item id="row" src="/Models/gltf/Scene_Row.gltf"></a.asser-item>
        <a.asser-item id="washer" src="/Models/gltf/Washer.gltf"></a.asser-item>
        <video id="covid" autoplay loop="true" src="https://vimeo.com/262915824"> </video>
        
        
    </a-assets>

    <a-entity environment="lightPosition: 1 5 -2; groundColor: #00275b; grid: dots; gridColor: #168dab; preset: starry; skyType: atmosphere; skyColor: #030022; shadow: true; playArea: 0.5; ground: flat; groundColor2: #009dff" visible=""><a-entity class="environment" position="0 50 0" light="type: hemisphere; color: #CEE4F0; intensity: 0.1; groundColor: #445" visible=""></a-entity><a-entity class="environment" position="1 5 -2" light="intensity: 0.1; shadowCameraLeft: -10; shadowCameraBottom: -10; shadowCameraRight: 10; shadowCameraTop: 10" visible=""></a-entity><a-entity rotation="-90 0 0" class="environmentGround environment" visible="" scale="1 1 3" shadow="cast: false; receive: false"></a-entity><a-entity class="environmentDressing environment" visible="false"></a-entity><a-sky radius="200" theta-length="110" class="environment" material="shader: skyshader; sunPosition: 0 0 0" visible="" geometry=""></a-sky><a-entity id="stars"></a-entity><a-entity class="environment" position="0 50 0" light="type: hemisphere; color: #817f90; intensity: 0.1; groundColor: #00275b" visible=""></a-entity><a-entity class="environment" position="1 5 -2" light="intensity: 0.1; castShadow: true; shadowCameraLeft: -10; shadowCameraBottom: -10; shadowCameraRight: 10; shadowCameraTop: 10" visible=""></a-entity><a-entity rotation="-90 0 0" class="environmentGround environment" visible="" scale="1 1 3" shadow="cast: false"></a-entity><a-entity class="environmentDressing environment" visible="false"></a-entity><a-sky radius="200" theta-length="110" class="environment" material="shader: skyshader; sunPosition: 0 0 0" visible="" geometry=""></a-sky><a-entity id="stars" visible=""></a-entity></a-entity>

    
      <a-entity camera="" position="1.70517 3.77742 7.90324" wasd-controls="" rotation="" look-controls="" aframe-injected="" fov="60" data-aframe-inspector-original-camera=""></a-entity>
     
      <a-entity id="row01" gltf-model="#row"; scale="1 1 1" position="0 0 0" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="alcoholbottle01" gltf-model="#alcoholbottle"; scale="1 1 1" position="-0.3679 1.21609 2.22668" material="color: brown" rotation="0 270 0"></a-entity>
      <a-entity id="alcoholgel01" gltf-model="#alcoholgel"; scale="1 1 1" position="-0.34621 1.2237 2.04921" material="color: brown" rotation="0 1.2776958831417358 0"></a-entity>
      <a-entity id="bandeja01" gltf-model="#bandeja"; scale="1 1 1" position="0.09071 0.31037 1.87632" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="bandeja002" gltf-model="#bandeja02"; scale="1 1 1" position="0.01345 1.22362 1.62926" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="bandeja003" gltf-model="#bandeja02"; scale="1 1 1" position="0.02168 1.22827 2.19329" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="base01" gltf-model="#base"; scale="1 1 1" position="0.57653 0.63922 0.34579" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="bed01" gltf-model="#bed"; scale="1 1 1" position="1.32768 0.72239 0.92061" material="color: brown; depthWrite: false; depthTest: false; alphaTest: 0; flatShading: false; side: front; metalness: 1" rotation="0 -2.97 0"></a-entity>
      <a-entity id="container01" gltf-model="#container"; scale="1 1 1" position="2.62617 0.32515 -1.31252" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="containerblack01" gltf-model="#containerblack"; scale="1 1 1" position="3.26663 0.32849 -1.32639" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="cottonswabs001" gltf-model="#cottonswabs01"; scale="1 1 1" position="0.09072 1.234 1.77529" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="cottonswabs002" gltf-model="#cottonswabs02"; scale="1 1 1" position="0.05149 1.234 1.75633" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="cottonswabs003" gltf-model="#cottonswabs03"; scale="1 1 1" position="0.03913 1.234 1.79907" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="dryer01" gltf-model="#dryer"; scale="1 1 1" position="3.38942 1.42006 -3.51686" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="floor01" gltf-model="#floor01"; scale="1 1 1" position="0 0 0" material="color: #ffffff; emissive: #000000; emissiveIntensity: 1" rotation="0 0 0"></a-entity>
      <a-entity id="floor02" gltf-model="#floor02"; scale="1 1 1" position="-0 0 0" material="color: #ffffff; emissive: #000000; emissiveIntensity: 1" rotation="0 0 0"></a-entity>
      <a-entity id="forceps01" gltf-model="#forceps"; scale="1 1 1" position="-0.03028 1.234 2.16761" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="gauze01" gltf-model="#gauze"; scale="1 1 1" position="-0.02897 0.97629 2.23867" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="maskn9501" gltf-model="#maskn95"; scale="1 1 1" position="-0.31717 1.24735 1.80666" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="medicaltape01" gltf-model="#medicaltape"; scale="1 1 1" position="-0.05427 1.21735 1.76465" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="mesa01" gltf-model="#mesa"; scale="1 1 1" position="-2.0204 0.63943 -2.42091" material="color: brown" rotation="0 180 0"></a-entity>
      <a-entity id="patient01" gltf-model="#patient"; scale="1 1 1" position="1.30792 0.74295 0.87509" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="roof01" gltf-model="#roof"; scale="1 1 1" position="0 0 0" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="salver01" gltf-model="#salver"; scale="1 1 1" position="-1.98987 1.19089 0.22229" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="dripbag01" gltf-model="#dripbag"; scale="1 1 1" position="-0.33061 1.22916 1.62738" material="color: brown" rotation="0 90 0"></a-entity>
      <a-entity id="scenebase01" gltf-model="#scenebase"; scale="1 1 1" position="0 0 0" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="scenebase02" gltf-model="#scenebase02"; scale="1 1 1" position="0 0 0" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="scenemedixlablogo01" gltf-model="#scenemedixlablogo"; scale="2 2 2" position="-8.63561 10.54945 8.70657" material="color: brown" rotation="0 131.5413694795198 0"></a-entity>
      <a-entity id="sceneieproeslogo01" gltf-model="#sceneieproeslogo"; scale="3 3 3" position="-10.16122 12.11864 -9.71284" material="color: brown" rotation="0 49.92582339431454 0"></a-entity>    
      <a-entity id="scenevertexlogo01" gltf-model="#scenevertexlogo"; scale="1 1 1" position="9.66793 12.7592 -8.22675" material="color: brown" rotation="0 -52.57346136561407 0"></a-entity>
      <a-entity id="table002" gltf-model="#table02"; scale="1 1 1" position="0.59361 0.65866 -2.44006" material="color: brown" rotation="0 180 0"></a-entity>
      <a-entity id="table003" gltf-model="#table03"; scale="1 1 1" position="-2.0092 0.33197 0.2209" material="color: brown" rotation="0 180 0"></a-entity>
      <a-entity id="cabinet005" gltf-model="#table03"; scale="1 1 1" position="-2.02939 0.34443 -0.50913" material="color: brown" rotation="0 180 0"></a-entity>
      <a-entity id="trashcan01" gltf-model="#trashcan"; scale="1 1 1" position="-2.13642 0.64247 2.04292" material="color: brown" rotatation="0 0 45"></a-entity>
      <a-entity id="tweezers01" gltf-model="#tweezers"; scale="1 1 1" position="-0.03312 0.97312 2.21903" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="tweezers02" gltf-model="#tweezers2"; scale="1 1 1" position="-0.12673 0.97827 2.18923" material="color: brown" rotation="0 0 0"></a-entity>
      <a-entity id="lamps01"  gltf-model="#lamps"; scale="1.5 1.5 1.5" position="0 14 0" rotation="0 0 0"></a-entity>
      <a-entity id="lamps02"  gltf-model="#lamps"; scale="2 2 2" position="0 15 0" rotation="0 0 0"></a-entity>
      <a-entity id="lamps03"  gltf-model="#lamps"; scale="1 1 1" position="0 13 0" rotation="0 0 0"></a-entity>
      <a-entity id="walls01" gltf-model="#walls"; scale="1 1 1" position="0 0 0" material="color: brown" rotation="0 0 0"></a-entity>
      <a-video id="video01" src="#covid" width="16" height="9" position="12.49895 11.12685 -0.19126" material="; src: " rotation="0 91.00632434739944 0" geometry="" scale="0.5 0.5 0.5"></a-video>
      <a-video id="video02" src="#covid" width="16" height="9" position="0.0287 10.99955 -12.27181" material="; src: " rotation="0 -0.5551961034817677 0" geometry="" scale="0.5 0.5 0.5"></a-video>
      <a-video id="video03" src="#covid" width="16" height="9" position="-12.34014 10.99955 -0.01198" material="; src: " rotation="0 92.462783062622 0" geometry="" scale="0.5 0.5 0.5"></a-video>
      <a-video id="video04" src="#covid" width="16" height="9" position="0.11274 10.99955 12.36685" material="; src: " rotation="0 179.87494316116576 0" geometry="" scale="0.5 0.5 0.5"></a-video>


      <a-entity background="color: #92f2ff"></a-entity>

      <a-entity light="intensity: 0.5; type: ambient; castShadow: true" position="-2.02939 0.34443 -0.50913" rotation="0 180 0"></a-entity>
      <a-entity light="angle: 40; color: #0674ff; decay: 2.76; penumbra: 0.23; type: spot; castShadow: true; shadowBias: 0.72; shadowCameraNear: 0.56; shadowRadius: 1.15" id="spot1" 
                position="-6.96565 13.02979 -2.80526" rotation="-73.12774930813723 118.60742021223659 62.43922163997172"></a-entity>
      <a-entity light="type: spot; decay: 2.76; penumbra: 0.57; color: #6906ff; castShadow: true; shadowBias: 0.72; shadowRadius: 1.15; shadowCameraNear: 0.56; angle: 40" id="spot2" 
                position="-5.6751 12.46304 8.89216" rotation="-84.51356661297694 -6.191381934183676 -173.78039109435923"></a-entity>
      <a-entity light="color: #00c6ff; intensity: 0.84; penumbra: 0.52; type: spot" id="spot3"
                position="4.39313 10.52133 7.07232" rotation="-73.57408343054415 179.9998479605043 0"></a-entity>
      <a-entity light="penumbra: 1; type: spot" id="spot4"
                position="-0.42573 8.27858 -4.19881" rotation="-54.63496351249478 0 179.9998479605043"></a-entity>
      <a-entity light="color: #b33dff; penumbra: 0.51; type: spot; castShadow: true" id="spot5"
                position="9.87633 11.44651 -2.7865" rotation="-80.69251107724949 -164.17188887001532 10.195783964353"></a-entity>
      <a-entity light="color: #b33dff; penumbra: 0.51; type: spot; castShadow: true" id="spot6"
                position="6.04245 9.1168 -7.44911" rotation="6.640007887771111 -48.475094257043295 -154.4688486094748"></a-entity>
      <a-entity light="color: #b33dff; penumbra: 0.51; type: spot; castShadow: true; intensity: 1.24" id="spot7"
                position="-10.70804 9.99225 -6.71406" rotation="-8.631036225850721 17.92269278948728 120.1635735838119"></a-entity>
      <a-entity light="color: #b33dff; penumbra: 0.51; type: spot; castShadow: true; intensity: 1.24" id="light01"
                position="-8.96322 9.99225 8.95537" rotation="-8.631036225850721 17.92269278948728 120.1635735838119"></a-entity>
      <a-entity light="color: #b33dff; penumbra: 0.51; type: hemisphere; castShadow: true; intensity: 1.24; groundColor: #7ccedb" id="light02"
                position="-10.70804 9.99225 -6.71406" rotation="-8.631036225850721 17.92269278948728 120.1635735838119"></a-entity>
      
                
                
      



    </a-scene>
    
    <script>
      // Define custom schema for syncing avatar color, set by random-color
      NAF.schemas.add({
        template: '#avatar-template',
        components: [
          'position',
          'rotation',
          {
            selector: '.head',
            component: 'material',
            property: 'color'
          }
        ]
      });

      // Called by Networked-Aframe when connected to server
      function onConnect () {
        console.log("onConnect", new Date());
      }

      // On mobile remove elements that are resource heavy
      var isMobile = AFRAME.utils.device.isMobile();

      if (isMobile) {
        var particles = document.getElementById('particles');
        particles.parentNode.removeChild(particles);
      }
    </script>
  </body>
</html>
